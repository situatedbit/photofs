  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (130.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (106.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateImages (20160222020546)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160222020546"]]
  [1m[35m (124.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTags (20160222020856)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "tag_bindings" ("tag_id" integer NOT NULL, "image_id" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160222020856"]]
  [1m[35m (101.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFiles (20160222021759)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "files" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "path" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "images" ADD "jpeg_file_id" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160222021759"]]
  [1m[35m (98.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to RenameJpegFileColumn (20160403010010)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aimages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "image_file_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aimages" ("id","created_at","updated_at","image_file_id")
                     SELECT "id","created_at","updated_at","jpeg_file_id" FROM "images"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "images"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "image_file_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "images" ("id","created_at","updated_at","image_file_id")
                     SELECT "id","created_at","updated_at","image_file_id" FROM "aimages"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aimages"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160403010010"]]
  [1m[35m (65.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddFilePathIndex (20160413012017)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "index_files_on_path" ON "files" ("path")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160413012017"]]
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to RenameAllTables (20170920185458)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "files" RENAME TO "photofs_image_files"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_files_on_path' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_files_on_path' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_files_on_path' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_files_on_path' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_files_on_path' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_files_on_path' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_photofs_image_files_on_path" ON "photofs_image_files" ("path")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX "index_files_on_path"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "images" RENAME TO "photofs_images"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tag_bindings" RENAME TO "photofs_tag_bindings"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tags" RENAME TO "photofs_tags"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170920185458"]]
  [1m[35m (104.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-11-19 21:50:01.117035"], ["updated_at", "2017-11-19 21:50:01.117035"]]
  [1m[35m (75.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_photofs_image_files_on_path' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_photofs_image_files_on_path' AND type='index'
[0m
